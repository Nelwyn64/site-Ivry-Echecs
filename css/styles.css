/* =========================================================
   Ivry Échecs 94 – stylesheet
   ========================================================= */

/* --------- Thème & reset -------------------------------- */
:root{
  --bg: #0d0f14;
  --ink: rgba(255,255,255,.92);
  --muted: rgba(255,255,255,.70);
  --primary: #f4e38b;
  --accent: #e74c3c;
  --surface: rgba(255,255,255,.06);
  --border: rgba(255,255,255,.12);
  --shadow: 0 10px 30px rgba(0,0,0,.35);
}

*,*::before,*::after{ box-sizing: border-box; }
html, body { height: 100%; }
html { scroll-behavior: smooth; }

body{
  margin: 0;
  font: 16px/1.6 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif;
  color: var(--ink);
  background: var(--bg);
}

/* Liens */
a{ color: var(--primary); text-decoration: none; }
a:hover{ text-decoration: underline; }

/* Conteneur aligné commun */
.container{
  max-width: 1100px;
  margin-inline: auto;
  padding-inline: clamp(16px, 4vw, 28px);
}

/* --------- Fond plein écran FIXE + overlay --------------- */
.page-bg{
  position: fixed;
  inset: 0;
  background-position: center center;
  background-size: cover;
  background-repeat: no-repeat;
  z-index: -2;
  will-change: transform;
}
.page-bg::after{
  content:"";
  position:absolute;
  inset:0;
  background: rgba(0,0,0,.55);
}

/* --------- En-tête --------------------------------------- */
.site-header{
  position: sticky;
  top: 0;
  z-index: 10;
  background: rgba(0,0,0,.78);
  backdrop-filter: blur(8px);
  border-bottom: 1px solid var(--border);
}
.topbar{
  display: flex;
  align-items: center;
  gap: 20px;
  min-height: 76px;
}

/* Logo */
.brand img{
  width: 112px;
  height: auto;
  display: block;
}
@media (max-width: 640px){
  .brand img{ width: 72px; }
}

/* Navigation – pastilles uniformes */
.nav{
  margin-left: auto;
  display: flex;
  gap: 12px;
  align-items: center;
  flex-wrap: wrap;
}
.nav a{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  min-width: 120px;
  height: 44px;
  padding: 0 18px;
  border-radius: 999px;
  color: var(--primary);
  background: var(--surface);
  border: 1px solid rgba(244,227,139,.45);
  box-shadow: none;
  transition: border-color .15s, background .15s, box-shadow .15s, transform .15s;
}
.nav a:hover{
  background: rgba(255,255,255,.10);
  border-color: var(--primary);
  box-shadow: 0 4px 18px rgba(244,227,139,.18);
  text-decoration: none;
}
.nav a[aria-current="page"],
.nav a.active{
  border-color: var(--primary);
  box-shadow: 0 6px 22px rgba(244,227,139,.25);
}

/* Lien “Aller au contenu” */
.skip{
  position:absolute; left:-9999px; top:auto; width:1px; height:1px; overflow:hidden;
}
.skip:focus{
  position:fixed; left:16px; top:12px; width:auto; height:auto;
  padding:10px 14px; border-radius:10px; background:#000; color:#fff; z-index:9999;
}

/* --------- Hero & sections -------------------------------- */
.hero{ padding: clamp(28px, 5vw, 48px) 0 6px; }
/* Correction bug mobile : image de fond */
.hero{
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
}

@media (max-width: 900px){
  .hero{
    background-attachment: scroll !important; /* évite le zoom/dézoom en scroll */
  }
}

/* (Les tailles/line-height/couleurs de h1…h6 sont gérées dans typography.css) */

section{ padding: 18px 0 28px; }

/* CTA rouge */
.btn{
  display:inline-flex; align-items:center; justify-content:center; gap:10px;
  padding: 12px 18px; border-radius: 999px; background: var(--accent); color: #fff; border: 0;
  box-shadow: 0 10px 24px rgba(231,76,60,.35); transition: transform .12s ease, box-shadow .12s ease;
}
.btn:hover{ transform: translateY(-1px); box-shadow: 0 14px 28px rgba(231,76,60,.45); text-decoration: none; }

/* --------- Grilles & cartes (verre) ----------------------- */
.grid{ display:grid; gap: 28px; }
.cols-2{ grid-template-columns: repeat(2, minmax(0, 1fr)); }

/* ✅ Ajout : Grille 3 colonnes */
.cols-3{ grid-template-columns: repeat(3, minmax(0, 1fr)); }
@media (max-width: 1100px){ .cols-3{ grid-template-columns: repeat(2, 1fr); } }
@media (max-width: 700px){ .cols-3{ grid-template-columns: 1fr; } }

@media (max-width: 860px){ .cols-2{ grid-template-columns: 1fr; } }

.card{
  background: rgba(0,0,0,.32);
  border: 1px solid var(--border);
  backdrop-filter: blur(6px);
  -webkit-backdrop-filter: blur(6px);
  border-radius: 18px;
  padding: clamp(16px, 3vw, 22px);
  box-shadow: var(--shadow);
}

/* --------- Galerie responsive ----------------------------- */
.gallery{
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
  gap: 18px;
  margin-top: 18px;
}
.gallery img{
  width: 100%; height: auto; display: block; border-radius: 14px;
  box-shadow: 0 14px 26px rgba(0,0,0,.35);
  transition: transform .2s ease, box-shadow .2s ease;
}
.gallery img:hover{ transform: scale(1.03); box-shadow: 0 18px 34px rgba(0,0,0,.45); }

/* --------- Tableau “verre” (tarifs) ----------------------- */
.glass{
  background: rgba(0,0,0,.30);
  border: 1px solid var(--border);
  border-radius: 16px;
  box-shadow: var(--shadow);
  padding: 8px; overflow: hidden;
  backdrop-filter: blur(6px); -webkit-backdrop-filter: blur(6px);
}
.glass-table{ width: 100%; border-collapse: collapse; color: var(--ink); }
.glass-table th, .glass-table td{ padding: 14px 18px; border-bottom: 1px solid var(--border); }
.glass-table thead th{ font-weight: 700; }
.glass-table tr:last-child td{ border-bottom: none; }

/* --------- Formulaire (Contact) --------------------------- */
.form{
  display: grid; grid-template-columns: 1fr; gap: 14px; max-width: 720px;
}
.form label{ font-weight: 600; color: var(--primary); }
.form input[type="text"], .form input[type="email"], .form textarea{
  width: 100%; padding: 12px 14px; border-radius: 10px;
  border: 1px solid var(--border); background: rgba(0,0,0,.25); color: var(--ink);
}
.form textarea{ min-height: 160px; resize: vertical; }
.form button{
  align-self: start; padding: 12px 18px; border-radius: 999px;
  border: 1px solid var(--primary); background: rgba(255,255,255,.06); color: var(--primary); cursor: pointer;
}
.form button:hover{ background: rgba(255,255,255,.10); }

/* --------- Pied de page ----------------------------------- */
.site-footer{
  border-top: 1px solid var(--border);
  background: rgba(0,0,0,.75);
  backdrop-filter: blur(6px); -webkit-backdrop-filter: blur(6px);
  padding: 14px 0; font-size: 14px; color: var(--muted);
}

/* --------- Utilitaires ------------------------------------ */
.text-center{ text-align: center; }
.mt-0{ margin-top: 0!important; }
.mt-1{ margin-top: .5rem!important; }
.mt-2{ margin-top: 1rem!important; }
.mt-3{ margin-top: 1.5rem!important; }
.mb-0{ margin-bottom: 0!important; }
.mb-1{ margin-bottom: .5rem!important; }
.mb-2{ margin-bottom: 1rem!important; }
.mb-3{ margin-bottom: 1.5rem!important; }

/* Espaces pour respirer sous le header */
main{ position: relative; z-index: 0; padding-bottom: 32px; }

/* ====== Nav responsive (hamburger) ====== */
/* Base layout du topbar */
.site-header .topbar{
  display:flex; align-items:center; justify-content:space-between; gap:.75rem;
}

/* Bouton : masqué en desktop */
.nav-toggle{
  display:none;
  width:44px; height:44px;
  border:1px solid var(--border, rgba(255,255,255,.12));
  background:var(--surface, rgba(255,255,255,.06));
  color:var(--ink, rgba(255,255,255,.92));
  border-radius:.75rem; cursor:pointer;
  box-shadow:0 6px 20px rgba(0,0,0,.25);
  font-size:1.25rem; line-height:1;
}

/* Desktop (>=901px) */
@media (min-width:901px){
  .nav-toggle{ display:none; }
  .nav{ display:flex; gap:1rem; align-items:center; }
  .nav a{ padding:.5rem .75rem; border-radius:.5rem; }
}

/* Mobile (<=900px) */
@media (max-width:900px){
  .nav-toggle{ display:inline-flex; align-items:center; justify-content:center; }

  /* Nav fermée par défaut */
  .nav{ display:none; }

  /* Nav ouverte */
  .nav.is-open{
    display:block;
    position:relative;
    margin-top:.5rem;
    border:1px solid var(--border, rgba(255,255,255,.12));
    border-radius:.75rem;
    background:var(--surface, rgba(255,255,255,.06));
    box-shadow:0 10px 30px rgba(0,0,0,.35);
  }
  .nav a{
    display:block;
    padding:.9rem 1rem;
    border-bottom:1px dashed var(--border, rgba(255,255,255,.12));
  }
  .nav a:last-child{ border-bottom:none; }
}

/* Correction mobile : éviter zoom/dézoom de .page-bg */
.page-bg {
  position: fixed;       /* reste derrière le contenu */
  inset: 0;
  z-index: -1;
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
}

/* Sur mobile : forcer scroll et stabilité */
@media (max-width: 900px){
  .page-bg {
    position: absolute;      /* empêche le bug iOS/Android */
    background-attachment: scroll !important;
  }
}
